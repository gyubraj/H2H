{% extends 'property/base.html' %}
{% load static %}

{% block title %}
<title>H2H : Property Detail</title>
{% endblock title %}



{% block property_content %}

<div class="mg-page-title parallax" style="background-position: 50% 0px;">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h2 style="color: black;">{{property.name}}</h2>
            </div>
        </div>
    </div>
</div>
<div class="mg-single-room-price">
    <div class="mg-srp-inner">Rs.{{property.price_per_room}}<span>/Night</span></div>
</div>
<div class="mg-single-room" style="margin-bottom: 30px;">
    <div class="container">
        <div class="row">
            <div class="col-md-7">
                <div class="mg-gallery-container">
                    <ul class="mg-gallery owl-carousel owl-theme" id="mg-gallery" style="display: block; opacity: 1;">
                        <div class="owl-wrapper-outer">
                            <div class="owl-wrapper" style="width: 7836px; left: 0px; display: block;">
                                <div class="owl-item" style="width: 653px;">
                                    <li><img src="{{property.main_image.url}}" alt="Partner Logo"></li>
                                </div>
                                
                                <!-- <div class="owl-item" style="width: 653px;">
                                    <li><img src="./h2h_singleroom_files/gallery-02.png" alt="Partner Logo"></li>
                                </div>
                                <div class="owl-item" style="width: 653px;">
                                    <li><img src="./h2h_singleroom_files/gallery-05.png" alt="Partner Logo"></li>
                                </div>
                                <div class="owl-item" style="width: 653px;">
                                    <li><img src="./h2h_singleroom_files/gallery-06.png" alt="Partner Logo"></li>
                                </div>
                                <div class="owl-item" style="width: 653px;">
                                    <li><img src="./h2h_singleroom_files/gallery-07.png" alt="Partner Logo"></li>
                                </div>
                                <div class="owl-item" style="width: 653px;">
                                    <li><img src="./h2h_singleroom_files/gallery-08.png" alt="Partner Logo"></li>
                                </div> -->
                            </div>
                        </div>

                        <!-- <div class="owl-controls clickable">
                            <div class="owl-buttons">
                                <div class="owl-prev"><i class="fa fa-long-arrow-left"></i></div>
                                <div class="owl-next"><i class="fa fa-long-arrow-right"></i></div>
                            </div>
                        </div> -->
                    </ul>
                </div>
            </div>
            <div class="col-md-5 mg-room-fecilities">
                <h2 class="mg-sec-left-title">Room Fecilities</h2>
                <div class="row">
                    <div class="col-6">
                        <ul>
                            <li class="{% if not property.complementary_breakfast %} no-facility {% endif %}"><i class="fas fa-hamburger"></i>Breakfast</li>
                            <li class="{% if not property.ac %} no-facility {% endif %}"><i class="fa fa-sun-o"></i> Air conditioning</li>
                            <li class="{% if not property.luxirous_room %} no-facility {% endif %}"><i class="fas fa-house-user"></i> Luxirous Room</li>
                            <li class="{% if not property.attached_bathroom %} no-facility {% endif %}"><i class="fas fa-bath"></i> Attach Bathroom</li>
                            <li class="{% if not property.hot_shower %} no-facility {% endif %}"><i class="fas fa-shower"></i> Hot Shower</li>
                        </ul>
                    </div>
                    <div class="col-6">
                        <ul>
                            <li class="{% if not property.tv %} no-facility {% endif %}"><i class="fas fa-tv"></i> TV</li>
                            <li class="{% if not property.smoking_drinking %} no-facility {% endif %}"><i class="fas fa-smoking"></i> Smoking Drinking</li>
                            <li class="{% if not property.internet %} no-facility {% endif %}"><i class="fas fa-wifi"></i> Wi-fi service</li>
                            <li class="{% if not property.receive_facility %} no-facility {% endif %}"><i class="fas fa-car"></i> Receive Facility</li>
                            <li class="{% if not property.drop_facility %} no-facility {% endif %}"><i class="fas fa-car-side"></i> Drop Facility</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="mg-single-room-txt">
                    <h2 class="mg-sec-left-title">Room Price</h2>
        
                    <div class="row">
                        <div class="col">
                            <h4>Price Per Room( For 1 Person)</h4>
                        </div>
        
                        <div class="col">
                            <h4>Max Person Per Room</h4>
                        </div>
        
                        <div class="col">
                            <h4>Additional Price Per Person( Room Sharing)</h4>
                        </div>
                    </div>
        
                    <div class="row">
                        <div class="col">
                            <p>RS. {{property.price_per_room}}</p>
                        </div>
        
                        <div class="col">
                            <p>{{property.person_per_room}}</p>
                        </div>
        
                        <div class="col">
                            <p>RS. {{property.increase_price_per_person}}</p>
                        </div>
                    </div>
        
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="mg-single-room-txt">
                    <h2 class="mg-sec-left-title">Address Information</h2>

                    <div class="row">
                        <div class="col">
                            <h4>City</h4>
                        </div>

                        <div class="col">
                            <h4>Address</h4>
                        </div>

                        <div class="col">
                            <h4>Nearest Visiting Places</h4>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <p>{{property.city}}</p>
                        </div>
                    
                        <div class="col">
                            <p>{{property.address}}</p>
                        </div>
                    
                        <div class="col">
                            <p>{{property.nearest_landmark}}</p>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="mg-single-room-txt">
                    <h2 class="mg-sec-left-title">Room Rules</h2>

                    <ol>
                        {% for rule in property.get_rules %}
                    
                        <h4><li>{{rule}}</li></h4>
                    
                        {% endfor %}
                    </ol>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col text-center">
                <button type="button" class="btn btn-main " data-toggle="modal" data-target="#editModal" {% if request.user == property.owner %} disabled {% endif %}>{% if request.user == property.owner %} Own Property {% else %} Book Now {% endif %}</button>
            </div>
        </div>

    </div>
</div>


<!-- Book Modal -->
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Booking {{property.name}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form method="POST" action="{% url 'add-booking' property.slug %}">
                    {% csrf_token %}
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="from_date">Arrival Date</label>
                            <input type="text" class="form-control" id="from_date" name="from_date"
                                onfocus="(this.type='date')" onblur="(this.type='text')" placeholder="Arrival Date"
                                required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="to_date">Checkout Date</label>
                            <input type="text" class="form-control" id="to_date" name="to_date"
                                onfocus="(this.type='date')" onblur="(this.type='text')" placeholder="Checkout Date"
                                required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="rooms">Number of Rooms</label>
                            <input type="number" class="form-control" id="rooms" name="no_of_rooms"
                                placeholder="Enter number of rooms" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="people">Number of People</label>
                            <input type="number" class="form-control" id="people" name="no_of_people"
                                placeholder="Enter number of guests" required>
                        </div>
                    </div>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary float-right">Book</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- End Book Modal -->

<div class="mg-single-room-review-sec">
    <div class="container">
        <div class="row">
            <div class="col-md-12 clearfix">
                <div class="mg-sm-full-rating">
                    <h2 class="mg-sec-left-title">Room Reviews</h2>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-7">
                <div class="mg-reviews">
                    {% if property.get_review %}
                    {% for review in property.get_review %}
                    <div class="media">
                        <div class="media-body">
                            <h4 class="media-heading">{{review.user.name}}</h4>
                            <div class="media-date">{{review.update_date}}</div>
                            <p>{{review.comment}}</p>
                        </div>
                    </div>

                    {% endfor %}

                    {% else %}

                    <h3>No Review Yet.</h3>

                    {% endif %}

                </div>
            </div>
            <div class="col-md-5">
                <form method="POST" action="{% url 'submit-review' property.slug %}">
                    {% csrf_token %}
                    <textarea class="form-control" placeholder="Your Review" rows="5" name="comment" required></textarea>
                    <input type="submit" value="Submit Review" class="btn btn-dark pull-right">
                </form>
            </div>
        </div>
    </div>
</div>


{% endblock property_content %}
